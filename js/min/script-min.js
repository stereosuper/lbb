function scrollTo(e,t){if(!(0>t)){var n=document.body.scrollTop+document.documentElement.scrollTop,o=e-n,s=o/t*10;setTimeout(function(){n+=s,document.body.scrollTop=n,document.documentElement.scrollTop=n,n!==e&&scrollTo(e,t-10)},10)}}function addEventListener(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e["on"+t]=n}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function shuffle(e){for(var t=e.length,n,o;t>1;)o=Math.floor(Math.random()*t--),o!==t&&(n=e[t],e[t]=e[o],e[o]=n);return e}function getStyle(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function setSlider(e){function t(){TweenLite.to(o[currentSlide],u,{left:c,opacity:0,onComplete:function(){s-1>currentSlide?currentSlide++:currentSlide=0,TweenLite.fromTo(o[currentSlide],u,{left:"-"+c},{left:0,opacity:1,ease:Power2.easeInOut}),m.staggerFromTo(o[currentSlide].querySelectorAll(".anim-slide"),u,{x:"-200px",opacity:0},{x:0,opacity:1,ease:Power2.easeInOut},.2)}})}function n(){TweenLite.to(o[currentSlide],u,{left:"-"+c,opacity:0,onComplete:function(){currentSlide>0?currentSlide--:currentSlide=s-1,TweenLite.fromTo(o[currentSlide],u,{left:c},{left:0,opacity:1,ease:Power2.easeInOut}),m.staggerFromTo(o[currentSlide].querySelectorAll(".anim-slide"),u,{x:"200px",opacity:0},{x:0,opacity:1,ease:Power2.easeInOut},.2)}})}var o=e.querySelectorAll(".slide"),s=o.length,i=0,l=document.createElement("button"),a=document.createElement("button"),r=0,c="25%",u=.3,m=new TimelineLite;for(i;s>i;i++)i>0&&TweenLite.set(o[i],{left:c,opacity:0}),o[i].offsetHeight>r&&(r=o[i].offsetHeight);TweenLite.set(e.querySelector("ul"),{height:r+"px"}),TweenLite.set(o[0].querySelectorAll(".anim-slide"),{opacity:1}),a.setAttribute("id","prev"),a.innerHTML="Prev",e.appendChild(a),addEventListener(a,"click",n),l.setAttribute("id","next"),l.innerHTML="Next",e.appendChild(l),addEventListener(l,"click",t)}function animFirstSlide(e){if(null!==document.getElementById("confiance")){var e=document.getElementById("confiance"),t=e.querySelectorAll(".slide");if(myScroll>=e.offsetTop-windowHeight/3){firstAnimSlider=!0;var n="25%",o=.3,s=new TimelineLite;TweenLite.to(t[0],o,{left:n,opacity:0,onComplete:function(){TweenLite.fromTo(t[1],o,{left:"-"+n},{left:0,opacity:1,ease:Power2.easeInOut}),s.staggerFromTo(t[1].querySelectorAll(".anim-slide"),o,{x:"-200px",opacity:0},{x:0,opacity:1,ease:Power2.easeInOut},.2)}}),currentSlide=1}}else firstAnimSlider=!0}function animBackground(e){animBgOn?e?(liveBgPos1+=100,liveBgPosFinal1+=100,liveBgPos2-=100,liveBgPosFinal2-=100,tweenBg=TweenLite.fromTo(masques,25,{backgroundPosition:liveBgPos1+"% "+liveBgPos2+"%"},{backgroundPosition:liveBgPosFinal1+"% "+liveBgPosFinal2+"%",ease:Linear.easeNone,onComplete:animBackground,onCompleteParams:["complete"]})):tweenBg.play():tweenBg.pause()}function animBackgroundScroll(){myScroll>masquesTop-windowHeight/2?myScroll>masquesTop+masques.offsetHeight-windowHeight/2?(TweenLite.set(masques,{css:{className:"-=on"}}),animBgOn=!1,animBackground()):(TweenLite.set(masques,{css:{className:"+=on"}}),animBgOn=!0,animBackground()):(TweenLite.set(masques,{css:{className:"-=on"}}),animBgOn=!1,animBackground())}function linksHoverYou(e){var t=e.querySelectorAll("a"),n=t.length,o=0;for(o;n>o;o++)!function(n){addEventListener(t[n],"mouseover",function(){TweenLite.set(this,{css:{className:"+=on"}}),TweenLite.set(e,{css:{className:"+=fade fade"+parseInt(n+1)}})}),addEventListener(t[n],"mouseout",function(){TweenLite.set(this,{css:{className:"-=on"}}),TweenLite.set(e,{css:{className:"-=fade"}}),TweenLite.set(e,{css:{className:"-=fade"+parseInt(n+1)}})})}(o)}function bullshitGenerator(){function e(e,t,n){var o=e.querySelector("#"+n);o?(TweenLite.set(o,{css:{className:"-=full"}}),TweenLite.set(o,{css:{className:"-=big"}}),setTimeout(function(){o.remove()},w)):(e.appendChild(t),TweenLite.set(t,{css:{className:"+=big"},delay:.01,onComplete:function(){TweenLite.set(t,{css:{className:"+=full"},delay:T})}}))}var t=[["img/bullshit/profond-purple.png",!1,!1],["img/bullshit/entreprise-purple.png",!1,!1]],n=[["img/bullshit/no-clic-yellow.png","click","img/bullshit/licorne.gif"],["img/bullshit/fuck-yellow.png",!1,!1]],o=[["img/bullshit/no-clic-blue.png","click","img/bullshit/lama.jpg"],["img/bullshit/profond-blue.png",!1,!1]],s=[t,n,o],i=[document.getElementsByClassName("bg-purple")[0],document.getElementsByClassName("bg-yellow")[0],document.getElementsByClassName("bg-blue")[0]],l=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],a=0,r,c=[],u=[],m=[],d=[],p=[],f=3,g=0,T=.8,w=400,y=s.length;for(a;y>a;a++)for(r=0,c[a]=[],u[a]=[],m[a]=[],p=[],d[a]=[],shuffle(s[a]),g=s[a].length<f?s[a].length:f,r;g>r;r++)!function(t,n){if(p[n]=Math.floor(Math.random()*l.length),void 0!==p[n-1]&&p[n]===p[n-1])for(;p[n]===p[n-1];)p[n]=Math.floor(Math.random()*l.length);u[t][n]=document.createElement("img"),u[t][n].setAttribute("src",s[t][n][0]),c[t][n]=document.createElement("button"),c[t][n].appendChild(u[t][n]),TweenLite.set(c[t][n],{css:{className:"+=bullshitBtn "+l[p[n]]}}),i[t].appendChild(c[t][n]),s[t][n][1]?(d[t][n]=document.createElement("div"),d[t][n].setAttribute("id","pop-"+t+"-"+n),TweenLite.set(d[t][n],{css:{className:"+=bullshit"}}),m[t][n]=document.createElement("img"),m[t][n].setAttribute("src",s[t][n][2]),d[t][n].appendChild(m[t][n]),addEventListener(c[t][n],s[t][n][1],function(){e(i[t],d[t][n],"pop-"+t+"-"+n)}),addEventListener(d[t][n],s[t][n][1],function(){var e=this;TweenLite.set(e,{css:{className:"-=full"}}),TweenLite.set(e,{css:{className:"-=big"}}),setTimeout(function(){e.remove()},w)})):TweenLite.set(c[t][n],{css:{className:"+=not-a-btn"}})}(a,r)}function setSentences(e){function t(){TweenLite.set(r,{css:{className:"-=open"}}),TweenLite.set(r,{css:{className:"+=close"}}),g>u&&T>c&&!h?(TweenLite.to(r,.3,{left:u+"px"}),u+=15):u>=g&&T>c?(u=w,TweenLite.set(r,{left:u+"px"}),TweenLite.to(r,.3,{top:c+"px"}),TweenLite.set(r,{css:{className:"+=on-right"}}),c+=15):u>=g&&c>=T&&!h?(u=w-4,c=y,TweenLite.set(r,{top:c+"px"}),TweenLite.to(r,.3,{left:u+"px"}),TweenLite.set(r,{css:{className:"-=on-right"}}),TweenLite.set(r,{css:{className:"+=on-bottom"}}),u-=15,h=!0):u>f&&c>=T&&h?(TweenLite.to(r,.3,{left:u+"px"}),u-=15):f>=u&&c>25&&h?(u=f-55,TweenLite.set(r,{left:u+"px"}),TweenLite.to(r,.3,{top:c+"px"}),TweenLite.set(r,{css:{className:"-=on-bottom"}}),TweenLite.set(r,{css:{className:"+=on-left"}}),c-=15):f>=u&&25>=c&&(h=!1,c=p,u=-20,TweenLite.set(r,{top:c+"px"}),TweenLite.set(r,{left:u+"px"}),TweenLite.set(r,{css:{className:"-=on-left"}}),u+=15)}function n(){t();var e=Math.floor(Math.random()*s);if(e===a)for(;e===a;)e=Math.floor(Math.random()*s);a=e,TweenLite.fromTo(l,.2,{opacity:1},{opacity:0,onComplete:function(){i.blur(),l.querySelector("span").innerHTML=o[e],TweenLite.fromTo(l,.2,{opacity:0},{opacity:1}),TweenLite.set(r,{css:{className:"-=close"}}),TweenLite.set(r,{css:{className:"+=open"}})}})}var o=["Stop aux acronymes, travaillons l'U.M.1","Une autre phrase creuse","Des trucs et des machins"],s=o.length,i=e.querySelector("button"),l=e.querySelector("p"),a=0,r=document.getElementById("cisors"),c=parseInt(getStyle(r,"top")),u=parseInt(getStyle(r,"left")),m=e.offsetHeight,d=e.offsetWidth,p=c,f=u,g=d-25,T=m-28,w=d+24,y=m+23,h=!1;TweenLite.set(l,{width:l.offsetWidth+"px",height:l.offsetHeight+"px"}),addEventListener(i,"click",n),addEventListener(e,"mouseout",function(){TweenLite.set(r,{css:{className:"-=open"}})})}function animTxtScroll(){function e(e){hasClass(e,"on")||TweenLite.set(e,{css:{className:"+=on"},delay:.2})}function t(e){hasClass(e,"on")&&TweenLite.set(e,{css:{className:"-=on"},delay:.2})}var n=splitTlAnimTxt.length,o=0,s=[],i=[];for(o;n>o;o++)s[o]=animsTxt[o].closest(".section"),i[o]=s[o].querySelector(".container"),myScroll>=s[o].offsetTop+windowHeight/3?(decalTxt="+=100",splitTlAnimTxt[o].reverse(),e(i[o])):myScroll>=s[o].offsetTop-windowHeight/2?(t(i[o]),splitTlAnimTxt[o].play()):(splitTlAnimTxt[o].reverse(),e(i[o]))}function animTxt(e){var t=0,n=splitTlAnimTxt.length;for(t;n>t;t++){e[t].split({type:"words"});var o=0,s=e[t].words,i=s.length;for(o;i>o;o++)splitTlAnimTxt[t].from(s[o],.4,{ease:Expo.easeInOut,css:{opacity:0,scaleX:.5,scaleY:.5,y:decalTxt}},.03*o)}}function animMenuScroll(){myScroll>=pageContent.offsetTop-100?(TweenLite.set(header,{css:{className:"+=purple"}}),TweenLite.set(menu,{css:{className:"+=purple"}})):(TweenLite.set(header,{css:{className:"-=purple"}}),TweenLite.set(menu,{css:{className:"-=purple"}}))}function init(){windowHeight=window.innerHeight,hasClass(body,"home")&&bullshitGenerator();var e=document.getElementById("logo"),t=["mouche","banane","moustache","bisou"],n=Math.floor(Math.random()*t.length),o=TweenMax.spriteSheet(e,{width:720,stepX:180,stepY:180,count:24},1,{delay:.1,paused:!0});if(TweenLite.set(e,{css:{className:"+=sprite "+t[n]}}),addEventListener(e,"mouseover",function(){o.play()}),addEventListener(e,"mouseout",function(){o.reverse()}),animsTxt=document.getElementsByClassName("animTxt"),animsTxt.length){splitTlAnimTxt=[],decalTxt="+=60";var s=0,i=animsTxt.length,l=[];for(s;i>s;s++)l[s]=new SplitText(animsTxt[s],{type:"words"}),splitTlAnimTxt[s]=new TimelineLite;animTxt(l)}var a=document.getElementById("phrase-creuse");null!==a&&setSentences(a);var r=document.getElementById("vous");null!==r&&linksHoverYou(r);var c=document.getElementsByClassName("slider");if(c.length){var s=0,u=c.length;for(s;u>s;s++)setSlider(c[s])}masques=document.getElementById("bgMasques"),null!==masques&&(animBgOn=!1,liveBgPos1=-100,liveBgPosFinal1=0,liveBgPos2=200,liveBgPosFinal2=100,masquesTop=document.getElementById("live").offsetTop,tweenBg=TweenLite.fromTo(masques,25,{backgroundPosition:liveBgPos1+"% "+liveBgPos2+"%"},{backgroundPosition:liveBgPosFinal1+"% "+liveBgPosFinal2+"%",ease:Linear.easeNone,onComplete:animBackground,onCompleteParams:["complete"],paused:!0}),animBackground());var m=document.querySelector(".blog-list");if(null!==m){var d=m.querySelectorAll(".black-hover-link"),s=0,p=d.length,f=[],g=[],T=[],w=[],y=[];for(s;p>s;s++)!function(e){g[e]=new TweenMax.to(d[e].querySelector(".hover"),.15,{padding:"10px",top:"12px",overflow:"visible",ease:Linear.easeNone}),T[e]=new TweenMax.to(d[e].querySelector(".sup-title"),.2,{opacity:"1",marginTop:"0",ease:Linear.easeNone}),w[e]=new TweenMax.to(d[e].querySelector(".content"),.25,{opacity:"1",marginTop:"0",ease:Linear.easeNone}),f[e]=new TimelineMax({paused:!0}).add(g[e]).add(T[e]).add(w[e]),y[e]=f[e].tweenFromTo(0,.6,{ease:Power2.easeInOut,paused:!0}),addEventListener(d[e],"mouseover",function(){y[e].play()}),addEventListener(d[e],"mouseout",function(){y[e].reverse()})}(s)}var h=document.getElementById("instagram");if(null!==h){var v=h.querySelector(".black-hover-link"),L=new TweenMax.to(v.querySelector(".hover"),.15,{padding:"10px",top:"0",height:"250px",overflow:"visible",ease:Power2.easeOut}),S=new TweenMax.to(v.querySelector(".sup-title"),.2,{opacity:"1",marginTop:"0",ease:Power2.easeOut}),x=new TweenMax.to(v.querySelector(".content"),.25,{opacity:"1",marginTop:"0",ease:Power2.easeOut}),b=new TimelineMax({paused:!0}).add(L).add(S).add(x),B=b.tweenFromTo(0,.6,{ease:Power2.easeInOut,paused:!0});addEventListener(v,"mouseover",function(){B.play()}),addEventListener(v,"mouseout",function(){B.reverse()})}var E=document.getElementsByClassName("scrollTo");if(E.length){var s=0,N=E.length;for(s;N>s;s++)addEventListener(E[s],"click",function(e){e.preventDefault();var t=document.getElementById(this.getAttribute("href").replace("#",""));scrollTo(t.offsetTop,300)})}}function ready(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})}var firstAnimSlider=!1,currentSlide=0,body=document.getElementsByTagName("body"),pageContent=document.getElementById("page-content"),header=document.getElementById("header"),menu=document.getElementById("main-menu");window.onscroll=function(e){myScroll=document.documentElement.scrollTop||document.body.scrollTop,animTxtScroll(),null!==masques&&animBackgroundScroll(),firstAnimSlider||animFirstSlide(),null!==pageContent&&animMenuScroll()},ready(init);