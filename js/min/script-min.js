function addEventListener(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e["on"+t]=n}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function shuffle(e){for(var t=e.length,n,i;t>1;)i=Math.floor(Math.random()*t--),i!==t&&(n=e[t],e[t]=e[i],e[i]=n);return e}function setSlider(e){function t(){TweenLite.to(i[s],m,{left:"-"+u,opacity:0,onComplete:function(){o-1>s?s++:s=0,TweenLite.fromTo(i[s],m,{left:u},{left:0,opacity:1,ease:Power2.easeOut}),d.staggerFromTo(i[s].querySelectorAll(".anim-slide"),m,{marginLeft:"-50%",opacity:0},{marginLeft:0,opacity:1,ease:Power2.easeOut},.2)}})}function n(){TweenLite.to(i[s],m,{left:u,opacity:0,onComplete:function(){s>0?s--:s=o-1,TweenLite.fromTo(i[s],m,{left:"-"+u},{left:0,opacity:1,ease:Power2.easeIn}),d.staggerFromTo(i[s].querySelectorAll(".anim-slide"),m,{marginLeft:"-50%",opacity:0},{marginLeft:0,opacity:1,ease:Power2.easeOut},.2)}})}var i=e.querySelectorAll(".slide"),o=i.length,s=0,a=0,l=document.createElement("button"),r=document.createElement("button"),c=0,u="25%",m=.3,d=new TimelineLite;for(a;o>a;a++)a>0&&TweenLite.set(i[a],{left:u,opacity:0}),i[a].offsetHeight>c&&(c=i[a].offsetHeight);TweenLite.set(e.querySelector("ul"),{height:c+"px"}),TweenLite.set(i[0].querySelectorAll(".anim-slide"),{marginLeft:0,opacity:1}),r.setAttribute("id","prev"),r.innerHTML="Prev",e.appendChild(r),addEventListener(r,"click",n),l.setAttribute("id","next"),l.innerHTML="Next",e.appendChild(l),addEventListener(l,"click",t)}function animBackground(e){liveBgPos1+=100,liveBgPosFinal1+=100,liveBgPos2-=100,liveBgPosFinal2-=100,TweenLite.fromTo(e,25,{backgroundPosition:liveBgPos1+"% "+liveBgPos2+"%"},{backgroundPosition:liveBgPosFinal1+"% "+liveBgPosFinal2+"%",ease:Linear.easeNone,onComplete:animBackground,onCompleteParams:[e]})}function linksHoverYou(e){var t=e.querySelectorAll("a"),n=t.length,i=0;for(i;n>i;i++)!function(n){addEventListener(t[n],"mouseover",function(){TweenLite.set(this,{css:{className:"+=on"}}),TweenLite.set(e,{css:{className:"+=fade fade"+parseInt(n+1)}})}),addEventListener(t[n],"mouseout",function(){TweenLite.set(this,{css:{className:"-=on"}}),TweenLite.set(e,{css:{className:"-=fade"}}),TweenLite.set(e,{css:{className:"-=fade"+parseInt(n+1)}})})}(i)}function bullshitGenerator(){function e(e,t,n){var i=e.querySelector("#"+n);i?(TweenLite.set(i,{css:{className:"-=full"}}),TweenLite.set(i,{css:{className:"-=big"}}),setTimeout(function(){i.remove()},v)):(e.appendChild(t),TweenLite.set(t,{css:{className:"+=big"},delay:.01,onComplete:function(){TweenLite.set(t,{css:{className:"+=full"},delay:h})}}))}var t=[["img/bullshit/profond-purple.png",!1,!1],["img/bullshit/entreprise-purple.png",!1,!1]],n=[["img/bullshit/no-clic-yellow.png","click","img/bullshit/licorne.gif"],["img/bullshit/fuck-yellow.png",!1,!1]],i=[["img/bullshit/no-clic-blue.png","click","img/bullshit/lama.jpg"],["img/bullshit/profond-blue.png",!1,!1]],o=[t,n,i],s=[document.getElementsByClassName("bg-purple")[0],document.getElementsByClassName("bg-yellow")[0],document.getElementsByClassName("bg-blue")[0]],a=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],l=0,r,c=[],u=[],m=[],d=[],f=[],g=3,p=0,h=.8,v=400;for(l;l<o.length;l++)for(r=0,c[l]=[],u[l]=[],m[l]=[],f=[],d[l]=[],shuffle(o[l]),p=o[l].length<g?o[l].length:g,r;p>r;r++)!function(t,n){if(f[n]=Math.floor(Math.random()*a.length),void 0!==f[n-1]&&f[n]===f[n-1])for(;f[n]===f[n-1];)f[n]=Math.floor(Math.random()*a.length);u[t][n]=document.createElement("img"),u[t][n].setAttribute("src",o[t][n][0]),c[t][n]=document.createElement("button"),c[t][n].appendChild(u[t][n]),TweenLite.set(c[t][n],{css:{className:"+=bullshitBtn "+a[f[n]]}}),s[t].appendChild(c[t][n]),o[t][n][1]?(d[t][n]=document.createElement("div"),d[t][n].setAttribute("id","pop-"+t+"-"+n),TweenLite.set(d[t][n],{css:{className:"+=bullshit"}}),m[t][n]=document.createElement("img"),m[t][n].setAttribute("src",o[t][n][2]),d[t][n].appendChild(m[t][n]),addEventListener(c[t][n],o[t][n][1],function(){e(s[t],d[t][n],"pop-"+t+"-"+n)}),addEventListener(d[t][n],o[t][n][1],function(){var e=this;TweenLite.set(e,{css:{className:"-=full"}}),TweenLite.set(e,{css:{className:"-=big"}}),setTimeout(function(){e.remove()},v)})):TweenLite.set(c[t][n],{css:{className:"+=not-a-btn"}})}(l,r)}function setSentences(e){function t(){var e=Math.floor(Math.random()*i);if(e===a)for(;e===a;)e=Math.floor(Math.random()*i);a=e,TweenLite.fromTo(s,.2,{opacity:1},{opacity:0,onComplete:function(){o.blur(),s.innerHTML=n[e],TweenLite.fromTo(s,.2,{opacity:0},{opacity:1})}})}var n=["Stop aux acronymes, travaillons l'U.M.1","Une autre phrase creuse","Des trucs et des machins"],i=n.length,o=e.querySelector("button"),s=e.querySelector("p"),a=0;TweenLite.set(s,{width:s.offsetWidth+"px",minHeight:s.offsetHeight+"px"}),addEventListener(o,"click",t)}function init(){bullshitGenerator();var e=document.getElementById("phrase-creuse");null!==e&&setSentences(e);var t=document.getElementById("vous");null!==t&&linksHoverYou(t);var n=document.getElementsByClassName("slider");if(n.length){var i=0;for(i;i<n.length;i++)setSlider(n[i])}var o=document.getElementById("live");null!==o&&(liveBgPos1=-100,liveBgPosFinal1=0,liveBgPos2=200,liveBgPosFinal2=100)}function ready(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),ready(init);