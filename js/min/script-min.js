function scrollTo(e,t){if(!(0>t)){var n=document.body.scrollTop+document.documentElement.scrollTop,o=e-n,s=o/t*10;setTimeout(function(){n+=s,document.body.scrollTop=n,document.documentElement.scrollTop=n,n!==e&&scrollTo(e,t-10)},10)}}function addEventListener(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e["on"+t]=n}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function shuffle(e){for(var t=e.length,n,o;t>1;)o=Math.floor(Math.random()*t--),o!==t&&(n=e[t],e[t]=e[o],e[o]=n);return e}function getStyle(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function setSlider(e){function t(){TweenLite.to(o[i],m,{left:u,opacity:0,onComplete:function(){s-1>i?i++:i=0,TweenLite.fromTo(o[i],m,{left:"-"+u},{left:0,opacity:1,ease:Power2.easeInOut}),d.staggerFromTo(o[i].querySelectorAll(".anim-slide"),m,{x:"-200px",opacity:0},{x:0,opacity:1,ease:Power2.easeInOut},.2)}})}function n(){TweenLite.to(o[i],m,{left:"-"+u,opacity:0,onComplete:function(){i>0?i--:i=s-1,TweenLite.fromTo(o[i],m,{left:u},{left:0,opacity:1,ease:Power2.easeInOut}),d.staggerFromTo(o[i].querySelectorAll(".anim-slide"),m,{x:"200px",opacity:0},{x:0,opacity:1,ease:Power2.easeInOut},.2)}})}var o=e.querySelectorAll(".slide"),s=o.length,i=0,l=0,a=document.createElement("button"),c=document.createElement("button"),r=0,u="25%",m=.3,d=new TimelineLite;for(l;s>l;l++)l>0&&TweenLite.set(o[l],{left:u,opacity:0}),o[l].offsetHeight>r&&(r=o[l].offsetHeight);TweenLite.set(e.querySelector("ul"),{height:r+"px"}),TweenLite.set(o[0].querySelectorAll(".anim-slide"),{opacity:1}),c.setAttribute("id","prev"),c.innerHTML="Prev",e.appendChild(c),addEventListener(c,"click",n),a.setAttribute("id","next"),a.innerHTML="Next",e.appendChild(a),addEventListener(a,"click",t)}function animBackground(e){liveBgPos1+=100,liveBgPosFinal1+=100,liveBgPos2-=100,liveBgPosFinal2-=100,TweenLite.fromTo(e,25,{backgroundPosition:liveBgPos1+"% "+liveBgPos2+"%"},{backgroundPosition:liveBgPosFinal1+"% "+liveBgPosFinal2+"%",ease:Linear.easeNone,onComplete:animBackground,onCompleteParams:[e]})}function linksHoverYou(e){var t=e.querySelectorAll("a"),n=t.length,o=0;for(o;n>o;o++)!function(n){addEventListener(t[n],"mouseover",function(){TweenLite.set(this,{css:{className:"+=on"}}),TweenLite.set(e,{css:{className:"+=fade fade"+parseInt(n+1)}})}),addEventListener(t[n],"mouseout",function(){TweenLite.set(this,{css:{className:"-=on"}}),TweenLite.set(e,{css:{className:"-=fade"}}),TweenLite.set(e,{css:{className:"-=fade"+parseInt(n+1)}})})}(o)}function bullshitGenerator(){function e(e,t,n){var o=e.querySelector("#"+n);o?(TweenLite.set(o,{css:{className:"-=full"}}),TweenLite.set(o,{css:{className:"-=big"}}),setTimeout(function(){o.remove()},w)):(e.appendChild(t),TweenLite.set(t,{css:{className:"+=big"},delay:.01,onComplete:function(){TweenLite.set(t,{css:{className:"+=full"},delay:T})}}))}var t=[["img/bullshit/profond-purple.png",!1,!1],["img/bullshit/entreprise-purple.png",!1,!1]],n=[["img/bullshit/no-clic-yellow.png","click","img/bullshit/licorne.gif"],["img/bullshit/fuck-yellow.png",!1,!1]],o=[["img/bullshit/no-clic-blue.png","click","img/bullshit/lama.jpg"],["img/bullshit/profond-blue.png",!1,!1]],s=[t,n,o],i=[document.getElementsByClassName("bg-purple")[0],document.getElementsByClassName("bg-yellow")[0],document.getElementsByClassName("bg-blue")[0]],l=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],a=0,c,r=[],u=[],m=[],d=[],f=[],p=3,g=0,T=.8,w=400,h=s.length;for(a;h>a;a++)for(c=0,r[a]=[],u[a]=[],m[a]=[],f=[],d[a]=[],shuffle(s[a]),g=s[a].length<p?s[a].length:p,c;g>c;c++)!function(t,n){if(f[n]=Math.floor(Math.random()*l.length),void 0!==f[n-1]&&f[n]===f[n-1])for(;f[n]===f[n-1];)f[n]=Math.floor(Math.random()*l.length);u[t][n]=document.createElement("img"),u[t][n].setAttribute("src",s[t][n][0]),r[t][n]=document.createElement("button"),r[t][n].appendChild(u[t][n]),TweenLite.set(r[t][n],{css:{className:"+=bullshitBtn "+l[f[n]]}}),i[t].appendChild(r[t][n]),s[t][n][1]?(d[t][n]=document.createElement("div"),d[t][n].setAttribute("id","pop-"+t+"-"+n),TweenLite.set(d[t][n],{css:{className:"+=bullshit"}}),m[t][n]=document.createElement("img"),m[t][n].setAttribute("src",s[t][n][2]),d[t][n].appendChild(m[t][n]),addEventListener(r[t][n],s[t][n][1],function(){e(i[t],d[t][n],"pop-"+t+"-"+n)}),addEventListener(d[t][n],s[t][n][1],function(){var e=this;TweenLite.set(e,{css:{className:"-=full"}}),TweenLite.set(e,{css:{className:"-=big"}}),setTimeout(function(){e.remove()},w)})):TweenLite.set(r[t][n],{css:{className:"+=not-a-btn"}})}(a,c)}function setSentences(e){function t(){TweenLite.set(c,{css:{className:"-=open"}}),TweenLite.set(c,{css:{className:"+=close"}}),g>u&&T>r&&!L?(TweenLite.to(c,.3,{left:u+"px"}),u+=15):u>=g&&T>r?(u=w,TweenLite.set(c,{left:u+"px"}),TweenLite.to(c,.3,{top:r+"px"}),TweenLite.set(c,{css:{className:"+=on-right"}}),r+=15):u>=g&&r>=T&&!L?(u=w-4,r=h,TweenLite.set(c,{top:r+"px"}),TweenLite.to(c,.3,{left:u+"px"}),TweenLite.set(c,{css:{className:"-=on-right"}}),TweenLite.set(c,{css:{className:"+=on-bottom"}}),u-=15,L=!0):u>p&&r>=T&&L?(TweenLite.to(c,.3,{left:u+"px"}),u-=15):p>=u&&r>25&&L?(u=p-55,TweenLite.set(c,{left:u+"px"}),TweenLite.to(c,.3,{top:r+"px"}),TweenLite.set(c,{css:{className:"-=on-bottom"}}),TweenLite.set(c,{css:{className:"+=on-left"}}),r-=15):p>=u&&25>=r&&(L=!1,r=f,u=-20,TweenLite.set(c,{top:r+"px"}),TweenLite.set(c,{left:u+"px"}),TweenLite.set(c,{css:{className:"-=on-left"}}),u+=15)}function n(){t();var e=Math.floor(Math.random()*s);if(e===a)for(;e===a;)e=Math.floor(Math.random()*s);a=e,TweenLite.fromTo(l,.2,{opacity:1},{opacity:0,onComplete:function(){i.blur(),l.querySelector("span").innerHTML=o[e],TweenLite.fromTo(l,.2,{opacity:0},{opacity:1}),TweenLite.set(c,{css:{className:"-=close"}}),TweenLite.set(c,{css:{className:"+=open"}})}})}var o=["Stop aux acronymes, travaillons l'U.M.1","Une autre phrase creuse","Des trucs et des machins"],s=o.length,i=e.querySelector("button"),l=e.querySelector("p"),a=0,c=document.getElementById("cisors"),r=parseInt(getStyle(c,"top")),u=parseInt(getStyle(c,"left")),m=e.offsetHeight,d=e.offsetWidth,f=r,p=u,g=d-25,T=m-28,w=d+24,h=m+23,L=!1;TweenLite.set(l,{width:l.offsetWidth+"px",height:l.offsetHeight+"px"}),addEventListener(i,"click",n),addEventListener(e,"mouseout",function(){TweenLite.set(c,{css:{className:"-=open"}})})}function animTxtScroll(e,t,n){console.log(window.offsetHeight),window.onscroll=function(o){var s=document.documentElement.scrollTop||document.body.scrollTop,i=0,l=e.length;for(i;l>i;i++)s>100?(t="+=100",e[i].reverse(),void 0===n[i]||hasClass(n[i],"animTxtDone")||TweenLite.set(n[i],{css:{className:"+=animTxtDone"},delay:.4})):(void 0!==n[i]&&hasClass(n[i],"animTxtDone")&&TweenLite.set(n[i],{css:{className:"-=animTxtDone"}}),e[i].play())}}function animTxt(e,t,n,o){var s=0,i=t.length;for(s;i>s;s++){e[s].split({type:"words"});var l=0,a=e[s].words,c=a.length;for(l;c>l;l++)t[s].from(a[l],.6,{ease:Expo.easeInOut,css:{opacity:0,scaleX:.5,scaleY:.5,y:n}},.03*l)}animTxtScroll(t,n,o)}function init(){bullshitGenerator();var e=document.getElementById("logo"),t=TweenMax.spriteSheet(e,{width:720,stepX:180,stepY:180,count:24},1,{delay:.1,repeat:-1});t.pause(),addEventListener(e,"mouseover",function(){t.play()}),addEventListener(e,"mouseout",function(){t.pause(),TweenLite.set(e,{backgroundPosition:"0 0"})});var n=document.getElementsByClassName("animTxt");if(n.length){var o=0,s=n.length,i=[],l=[],a="+=60",c=[],r=[],u=0;for(o;s>o;o++)i[o]=new SplitText(n[o],{type:"words"}),l[o]=new TimelineLite,c[o]=n[o].closest(".container"),(void 0!==c[o-1]&&c[o-1]!==c[o]||0===o)&&(r[o]=c[u],u++);animTxt(i,l,a,r)}var m=document.getElementById("phrase-creuse");null!==m&&setSentences(m);var d=document.getElementById("vous");null!==d&&linksHoverYou(d);var f=document.getElementsByClassName("slider");if(f.length){var o=0,p=f.length;for(o;p>o;o++)setSlider(f[o])}var g=document.getElementById("live");null!==g&&(liveBgPos1=-100,liveBgPosFinal1=0,liveBgPos2=200,liveBgPosFinal2=100);var T=document.getElementsByClassName("scrollTo");if(T.length){var o=0,w=T.length;for(o;w>o;o++)addEventListener(T[o],"click",function(e){e.preventDefault();var t=document.getElementById(this.getAttribute("href").replace("#",""));scrollTo(t.offsetTop,300)})}}function ready(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),ready(init);