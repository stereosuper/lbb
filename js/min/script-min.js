function addEventListener(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e["on"+t]=n}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split("").join("|")+"(\\b|$)","gi")," ")}function shuffle(e){for(var t=e.length,n,o;t>1;)o=Math.floor(Math.random()*t--),o!==t&&(n=e[t],e[t]=e[o],e[o]=n);return e}function setSlider(e){function t(){TweenLite.to(o[l],u,{left:"-"+c,opacity:0,onComplete:function(){i-1>l?l++:l=0,TweenLite.fromTo(o[l],u,{left:c},{left:0,opacity:1})}})}function n(){TweenLite.to(o[l],u,{left:c,opacity:0,onComplete:function(){l>0?l--:l=i-1,TweenLite.fromTo(o[l],u,{left:"-"+c},{left:0,opacity:1})}})}var o=e.querySelectorAll(".slide"),i=o.length,l=0,a=0,s=document.createElement("button"),r=document.createElement("button"),d=0,c="50%",u=.3;for(a;i>a;a++)a>0&&TweenLite.set(o[a],{left:c,opacity:0}),o[a].offsetHeight>d&&(d=o[a].offsetHeight);e.querySelector("ul").style.height=d+"px",s.setAttribute("id","next"),s.innerHTML="Next",e.appendChild(s),addEventListener(s,"click",t),r.setAttribute("id","prev"),r.innerHTML="Prev",e.appendChild(r),addEventListener(r,"click",n)}function linksHoverYou(e){var t=e.querySelectorAll("a"),n=t.length,o=0;for(o;n>o;o++)!function(n){addEventListener(t[n],"mouseover",function(){addClass(this,"on"),addClass(e,"fade"),addClass(e,"fade"+parseInt(n+1))}),addEventListener(t[n],"mouseout",function(){removeClass(this,"on"),removeClass(e,"fade"),removeClass(e,"fade"+parseInt(n+1))})}(o)}function bullshitGenerator(){function e(e,t,n){var o=e.querySelector("#"+n);o?(removeClass(o,"big"),o.remove()):(e.appendChild(t),setTimeout(function(){addClass(t,"big")},100))}var t=[["img/bullshit/profond-purple.png",!1,!1],["img/bullshit/entreprise-purple.png",!1,!1]],n=[["img/bullshit/no-clic-yellow.png","click","img/bullshit/licorne.gif"],["img/bullshit/fuck-yellow.png",!1,!1]],o=[["img/bullshit/no-clic-blue.png","click","img/bullshit/lama.jpg"],["img/bullshit/profond-blue.png",!1,!1]],i=[t,n,o],l=[document.getElementsByClassName("bg-purple")[0],document.getElementsByClassName("bg-yellow")[0],document.getElementsByClassName("bg-blue")[0]],a=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],s=0,r,d=[],c=[],u=[],m=[],f=[],h=3,p=0;for(s;s<i.length;s++)for(r=0,d[s]=[],c[s]=[],u[s]=[],f=[],m[s]=[],shuffle(i[s]),p=i[s].length<h?i[s].length:h,r;p>r;r++)!function(t,n){if(f[n]=Math.floor(Math.random()*a.length),void 0!==f[n-1]&&f[n]===f[n-1])for(;f[n]===f[n-1];)f[n]=Math.floor(Math.random()*a.length);c[t][n]=document.createElement("img"),c[t][n].setAttribute("src",i[t][n][0]),d[t][n]=document.createElement("button"),d[t][n].appendChild(c[t][n]),addClass(d[t][n],"bullshitBtn"),addClass(d[t][n],a[f[n]]),l[t].querySelector(".container").appendChild(d[t][n]),i[t][n][1]?(m[t][n]=document.createElement("div"),m[t][n].setAttribute("id","pop-"+t+"-"+n),addClass(m[t][n],"bullshit"),u[t][n]=document.createElement("img"),u[t][n].setAttribute("src",i[t][n][2]),m[t][n].appendChild(u[t][n]),addEventListener(d[t][n],i[t][n][1],function(){e(l[t],m[t][n],"pop-"+t+"-"+n)}),addEventListener(m[t][n],i[t][n][1],function(){removeClass(this,"big"),this.remove()})):addClass(d[t][n],"not-a-btn")}(s,r)}function setSentences(e){function t(){var e=Math.floor(Math.random()*n.length);if(e===l)for(;e===l;)e=Math.floor(Math.random()*n.length);l=e,i.innerHTML=n[e]}var n=["Stop aux acronymes, travaillons l'U.M.1","Une autre phrase creuse","Des trucs et des machins"],o=e.querySelector("button"),i=e.querySelector("p"),l=0;i.style.width=i.offsetWidth+"px",i.style.minHeight=i.offsetHeight+"px",addEventListener(o,"click",t)}function init(){bullshitGenerator();var e=document.getElementById("phrase-creuse");null!==e&&setSentences(e);var t=document.getElementById("vous");null!==t&&linksHoverYou(t);var n=document.getElementsByClassName("slider");if(n.length){var o=0;for(o;o<n.length;o++)setSlider(n[o])}}function ready(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})}var tlBackground=new TimelineMax({repeat:-1});window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),ready(init);